# ğŸ¯ Career-HY RAG Fixed Chunking ì‹¤í—˜ ì„¤ì •
# Fixed Size Chunking (ê³ ì • í¬ê¸° ì²­í‚¹) ì „ëµ í…ŒìŠ¤íŠ¸

experiment_name: "fixed-chunk-test"
description: "Fixed Size Chunking (600/100) ì „ëµ - ChromaDB ê²€ìƒ‰"
output_dir: "results"

# ì„ë² ë”© ì„¤ì •
embedder:
  type: "openai"
  model_name: "text-embedding-ada-002"
  batch_size: 5

# ì²­í‚¹ ì„¤ì • - Fixed Size Chunking
chunker:
  type: "fixed"
  chunk_size: 600
  chunk_overlap: 100

# ê²€ìƒ‰ ì„¤ì •
retriever:
  type: "chroma"
  collection_name: "job-postings-fixed-chunk"
  persist_directory: "/tmp/chroma_fixed_chunk"
  top_k: 10

# LLM ì„¤ì • (ì‹¤ì œ ì„œë¹„ìŠ¤ì™€ ë™ì¼)
llm:
  type: "openai"
  model_name: "gpt-4o-mini"
  temperature: 0.7
  max_tokens: 1000

# ì‘ë‹µ ìƒì„±ê¸° ì„¤ì • (ì‹¤ì œ ì„œë¹„ìŠ¤ì™€ ë™ì¼)
response_generator:
  type: "careerhy"
  model_name: "gpt-4o-mini"
  temperature: 0.7
  max_tokens: 2000

# ë°ì´í„° ì„¤ì •
data:
  pdf_prefix: "initial-dataset/pdf/"
  json_prefix: "initial-dataset/json/"
  test_queries_path: "data/test_queries_fixed.jsonl"
  data_version: "v1"  # S3 ë°ì´í„° ë²„ì „ (ë°ì´í„° ë³€ê²½ ì‹œ v2, v3ìœ¼ë¡œ ì¦ê°€)

# ì´ì¤‘ í‰ê°€ ì„¤ì •
evaluation:
  # ê²€ìƒ‰ ì„±ëŠ¥ í‰ê°€ (ì „ì²´ 575ê°œ ì¿¼ë¦¬)
  retrieval:
    target: "all"
    metrics: ["recall@k", "precision@k", "mrr", "map", "ndcg@k"]
    k_values: [1, 3, 5, 10]

  # ìƒì„± í’ˆì§ˆ í‰ê°€ (15ê°œ ê³ ìœ  í”„ë¡œí•„ ìƒ˜í”Œ)
  generation:
    target: "sample"
    sample_size: 15
    sample_strategy: "profile_based"
    sample_seed: null

# LangSmith ê³ í’ˆì§ˆ ì •ì„± í‰ê°€ (ì„ íƒì‚¬í•­)
langsmith:
  enabled: true  # LangSmith í™œì„±í™” - LLM-as-Judge ì •ì„± í‰ê°€
  project_name: "career-hy-fixed-chunk"
  judge_model: "gpt-4o-mini"
  
  # LangSmith ì¶”ì ìš© íƒœê·¸
  tags:
    - "fixed-chunking"
    - "chunk-600-100"
    - "chroma"
    - "ada-002"
    - "gpt-4o-mini"

  # 4ê°€ì§€ ì •ì„± í‰ê°€ ì§€í‘œ
  metrics:
    - "recommendation_quality"    # ì¶”ì²œ í’ˆì§ˆ ì „ë°˜
    - "personalization_score"     # ê°œì¸í™” ìˆ˜ì¤€
    - "response_helpfulness"      # ë„ì›€ì´ ë˜ëŠ” ì •ë„
    - "profile_alignment"         # í”„ë¡œí•„ ì¼ì¹˜ë„

  # ë¹„ìš© ìµœì í™” ì„¤ì •
  max_concurrency: 3
  evaluation_timeout: 300